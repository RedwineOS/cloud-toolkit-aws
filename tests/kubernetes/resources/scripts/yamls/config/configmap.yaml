apiVersion: v1
kind: ConfigMap
metadata:
  name: print-map
data:
  greeting: "Warm greetings to"
  honorific: "The Most Honorable"
  name: "ConfigMap"
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: print-configmap-greeting
  labels:
    app: print
spec: 
  selector:
    matchLabels:
      app: print
  template:
    metadata:
      labels:
        app: print
    spec:
      containers:
      - name: configmap-env-print-demo
        image: bash
        env:
        - name: GREETING
          valueFrom:
            configMapKeyRef:
              name: print-map
              key: greeting
        - name: HONORIFIC
          valueFrom:
            configMapKeyRef:
              name: print-map
              key: honorific
        - name: NAME
          valueFrom:
            configMapKeyRef:
              name: print-map
              key: name
        command: ["echo"]
        args: ["$(GREETING) $(HONORIFIC) $(NAME)"]